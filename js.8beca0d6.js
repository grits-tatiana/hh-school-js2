parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mwQg":[function(require,module,exports) {
var e=document.createElement("div");e.className="grid",document.body.appendChild(e),document.addEventListener("keydown",function(d){d.ctrlKey&&"KeyG"===d.code&&e.classList.toggle("grid_visible")});
},{}],"wzuc":[function(require,module,exports) {
var e=document.querySelector(".js-slide.slider-content_active"),t=function(t){var s=document.querySelector('.js-slide[data-slide-id="'.concat(t,'"]'));if(!s.classList.contains("slider-content_active")){s.classList.add("slider-content_show"),e.classList.add("slider-content_hide"),e.classList.remove("slider-content_active");var d=e;e=s,document.querySelector('.js-slide-button[data-slide-id="'.concat(t,'"]')).classList.add("slider-content-block-dots__dot-container_choosen"),document.querySelector('.js-slide-button[data-slide-id="'.concat(d.dataset.slideId,'"]')).classList.remove("slider-content-block-dots__dot-container_choosen"),e.addEventListener("animationend",function(){e.classList.add("slider-content_active"),e.classList.remove("slider-content_show"),d.classList.remove("slider-content_hide"),e.parentNode.insertBefore(e,d)},{once:!0})}};document.querySelector(".js-slide-buttons").addEventListener("click",function(e){var s=e.target.dataset;s.slideId&&t(s.slideId)});
},{}],"kRZE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{id:"1",name:"Зонт",image:"/product-1.jpg",price:"1 990",oldPrice:void 0,sale:!1,description:"Красный зонт",sizes:["0"]},{id:"2",name:"Сумка",image:"/product-2.jpg",price:"290",oldPrice:void 0,sale:!1,description:"Красная сумка",sizes:["0"]},{id:"3",name:"Шлепанцы",image:"/product-3.jpg",price:"790",oldPrice:void 0,sale:!1,description:"Красные шлепанцы",sizes:["37","38","39","40","41"]},{id:"4",name:"Футболка",image:"/product-4.jpg",price:"390",oldPrice:"690",sale:!0,description:"Красная хлопковая футболка с&#160;коротким рукавом",sizes:["XS","S","M","L","XL","XXL"]},{id:"5",name:"Толстовка",image:"/product-5.jpg",price:"3 990",sale:!1,description:"Красная толстовка",sizes:["XS","S","M","L","XL","XXL"]},{id:"6",name:"Подушка",image:"/product-6.jpg",price:"990",sale:!1,description:"Красная подушка",sizes:["0"]}];exports.default=e;
},{}],"UJHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDescription=o,exports.getSizes=s,exports.templateButton=void 0;var t='<div class="product-card__description">{description}</div>',e='<input class="js-radio-size" type="radio" id="size_{size}" data-size-id="{size}" name="sizes"  value="{size}">        <div class="radio-button-text radio-button-text_size">            <label class="radio-label" for="size_{size}">{size}</label>        </div>',i='<div class="dropdown-button-container">        <button class="js-dropdown-button button dropdown-button-container__button">Заказать</button>    </div>';function o(e){return t.replace(/{([a-z]+)}/g,function(){return e.description})}function s(t){var i="";return t.sizes.forEach(function(t){i+=e.replace(/{([a-z]+)}/g,function(){return t})}),i}exports.templateButton=i;
},{}],"yAFx":[function(require,module,exports) {
"use strict";function t(t){return fetch(t).then(function(t){return t.json()})}function e(){return t("https://api.hh.ru/areas/113").then(function(t){var e=[];t.areas.forEach(function(t){"Московская область"===t.name?t.areas.forEach(function(t){return e.push({id:t.id,city:t.name})}):"Москва"===t.name&&e.push({id:t.id,city:t.name})});var n="";e.forEach(function(t){n+='<option class="option" id="'.concat(t.id,'" ').concat("Москва"===t.city?" selected":"",">").concat(t.city,"</option>")}),document.querySelector(".js-select-cities").innerHTML=n})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCities=e;
},{}],"KKlm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateEmpty=r,exports.default=t;var e=require("../orderForm");function r(e){if(!e.trim())return"empty"}function a(e){if(!e.match(/@/))return"incorrect character"}function t(t){var u=t.querySelector(e.selectorsData.name),n=t.querySelector(e.selectorsData.email),l=t.querySelector(e.selectorsData.address),s=!1,i=!1,o=!1,d={name:u.value,email:n.value,address:l.value},c=[];function v(){c.forEach(function(e){e({nameError:s,emailError:i,addressError:o,value:d,fields:{name:u,email:n,address:l}})})}return u.addEventListener("blur",function(){s=r(u.value),d.name=u.value,v()}),n.addEventListener("blur",function(){i=r(n.value)||a(n.value),d.email=n.value,v()}),l.addEventListener("blur",function(){o=r(l.value),d.address=l.value,v()}),{subscribe:function(e){return c.push(e),function(){c=c.filter(function(r){return r!==e})}},nameError:s,emailError:i,addressError:o,value:d,validateFields:function(){return s=r(u.value),i=r(n.value)||a(n.value),o=r(l.value),{nameError:s,emailError:i,addressError:o,value:d,fields:{name:u,email:n,address:l}}},fields:{name:u,email:n,address:l}}}
},{"../orderForm":"Wn4F"}],"NESU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("../orderForm"),r=require("./fields");function u(u){var t=u.querySelector(e.selectorsData.number),c=u.querySelector(e.selectorsData.code),n=u.querySelector(e.selectorsData.country);function a(e){if((0,r.validateEmpty)(e))return"empty";var u=e.match(/[0-9\s]+/);return u?u[0]!==e&&"incorrect character":"incorrect character"}var o=!1,l=!1,i=!1,v=!1,s={number:t.value,code:c.value,country:n.value},d=[];function f(){d.forEach(function(e){e({error:v,value:s,fields:{number:t,code:c,country:n}})})}return t.addEventListener("blur",function(){o=a(t.value),v=o||l||i,s.number=t.value,f()}),c.addEventListener("blur",function(){l=a(c.value),v=o||l||i,s.code=c.value,f()}),n.addEventListener("blur",function(){i="+"===n.value[0]?a(n.value.slice(1)):"incorrect character",v=o||l||i,s.country=n.value,f()}),{subscribe:function(e){return d.push(e),function(){d=d.filter(function(r){return r!==e})}},error:v,value:s,validatePhoneNumber:function(){return o=a(t.value),l=a(c.value),i="+"===n.value[0]?a(n.value.slice(1)):"incorrect character",{error:v=o||l||i,value:s,fields:{number:t,code:c,country:n}}},fields:{number:t,code:c,country:n}}}
},{"../orderForm":"Wn4F","./fields":"KKlm"}],"eGIX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.functionForm=o;var e=t(require("./phohe")),r=t(require("./fields")),a=require("../orderForm");function t(e){return e&&e.__esModule?e:{default:e}}function o(){var t=document.querySelector(".js-form"),o=t.querySelector(".js-submit"),d=(0,e.default)(t),s=(0,r.default)(t),i={},c=new Set;d.subscribe(l),s.subscribe(u);function l(e){var r=e.error,a=e.value;i.phone=a;var t=d.fields,o=t.number,s=t.code,l=t.country;if(r)return o.classList.add("input_error"),s.classList.add("input_error"),l.classList.add("input_error"),void c.add("phone");o.classList.remove("input_error"),s.classList.remove("input_error"),l.classList.remove("input_error"),c.delete("phone")}function u(e){var r=e.nameError,a=e.emailError,t=e.addressError,o=e.value;i.name=o.name,i.email=o.email,i.address=o.address;var d=s.fields,l=d.name,u=d.email,n=d.address;r?(l.classList.add("input_error"),c.add("name")):(l.classList.remove("input_error"),c.delete("name")),a?(u.classList.add("input_error"),c.add("email")):(u.classList.remove("input_error"),c.delete("email")),t?(n.classList.add("textarea_error"),c.add("address")):(n.classList.remove("textarea_error"),c.delete("address"))}o.addEventListener("click",function(e){e.preventDefault();var r=!0,o=d.validatePhoneNumber(),c=s.validateFields();o.error&&(alert("Проверьте корректность заполнения номера телефона"),l(o),r=!1),(c.nameError||c.emailError||c.addressError)&&(alert("Проверьте корректность заполнения всех необходимых полей: ФИО, Email, Адресс"),u(c),r=!1),r&&(i.city=t.querySelector(a.selectorsData.city).value,i.delivery=t.querySelector(".js-radio-delivery:checked").value,i.payment=t.querySelector(".js-radio-payment:checked").value,!0===t.querySelector(a.selectorsData.notice).checked?i.notice=!0:i.notice=!1,i.productId=a.productData.product.id,i.productName=a.productData.product.name,i.productPrice=a.productData.product.price,i.productSize=t.querySelector(".js-radio-size:checked").value,console.log(i))})}
},{"./phohe":"NESU","./fields":"KKlm","../orderForm":"Wn4F"}],"f2qf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTemplateForm=d;var e=require("./cities"),r=require("./index"),s='    <div class="columns-wrapper">        <div class="popup-content">            <div class="popup-header">                <h1 class="heading">Оформление заказа</h1>                <div class="js-order-close nav-close"></div>            </div>            <div class="columns-row">                <div class="column column_s-2 column_m-3 column_l-6">                    <form class="popup-content-form-order">                        <div class="form-order-group">                            <label class="form-order__label">Контактное лицо</label>                                <input class="js-name input" type="text" placeholder="ФИО" value="">                                <input class="js-email input" type="text" placeholder="Электронная почта" value="">                            <div class="form-order-contact-info-number">                                <input class="js-phone-country input form-order-contact-info-number_number-7" type="text" placeholder="+7" value="">                                <input class="js-phone-code input form-order-contact-info-number_number-code" type="text" placeholder="Код" value="">                                <input class="js-phone-number input form-order-contact-info-number_number-number" type="text" placeholder="Номер" value="">                            </div>                        </div>                        <div class="form-order-group">                            <label class="form-order__label">Способ получения заказа</label>                            <div class="group-buttons">                                <input class="js-radio-delivery" type="radio" id="self-delivery" value="self-delivery" name="type-delivery" checked>                                <div class="radio-button-text radio-button-text_delivery">                                    <label class="radio-label" for="self-delivery">Самовывоз</label>                                </div>                                <input class="js-radio-delivery" type="radio" id="delivery" value="delivery" name="type-delivery">                                <div class="radio-button-text radio-button-text_delivery">                                    <label class="radio-label" for="delivery">Доставка</label>                                </div>                            </div>                        </div>                        <div class="form-order-group">                            <label class="form-order__label">Адрес</label>                            <div class="form-order-address-list">                                <div class="select-wrapper">                                    <select class="js-select-cities select">                                    </select>                                </div>                            </div>                            <div class="form-order-address-text">                                <textarea class="js-address textarea" placeholder="Адрес"></textarea>                            </div>                        </div>                        <div class="form-order-group">                            <label class="form-order__label">Оплата</label>                            <div class="form-order-radio-group">                                <div class="form-order-radio-group__element">                                    <input class="js-radio-payment" type="radio" name="payment" id="online" value="online-payment" checked><label class="form-order__text" for="online">Online-оплата</label>                                </div>                                <div class="form-order-radio-group__element">                                    <input class="js-radio-payment" type="radio" name="payment" id="cash" value="cash-payment"><label class="form-order__text" for="cash">Наличными</label>                                </div>                                <div class="form-order-radio-group__element">                                    <input class="js-radio-payment" type="radio" name="payment" id="card" value="card-payment"><label class="form-order__text" for="card">Картой при получении</label>                                </div>                            </div>                        </div>                        <div class="form-order-group">                            <label class="form-order__label">Уведомления</label>                            <div class="form-order-notice-checkbox-sms">                                <input class="js-notice" type="checkbox" value="sms" id="sms">                                <label class="form-order__text" for="sms">Хочу получать SMS уведомления</label>                            </div>                        </div>                        <div class="form-order-group">                            <button class="js-submit button form-order-confirm-button_button">Оформить заказ</button>                        </div>                    </form>                </div>                <div class="column column_s-2 column_m-3 column_l-6">                    <div class="popup-content-order-product">                        <div class="js-order-product-card product-card">                            <div class="product-card__image-container">                                <img class="js-order-product-image product-card__image">                                <div class="js-order-product-sale product-card__sale product-card__sale_full">sale</div>                            </div>                            <div class="js-order-product-name product-card__name product-card__name_full"></div>                            <div class="product-card__price">                                <span class="js-order-product-oldprice product-card__old-price"></span><span class="js-order-product-price"></span>                            </div>                            <div class="js-order-product-description product-card__description"></div>                            <div class="js-order-product-sizes product-card__sizes">                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div>';function d(){document.querySelector(".js-form").innerHTML=s,(0,e.setCities)(),(0,r.functionForm)()}
},{"./cities":"yAFx","./index":"eGIX"}],"Wn4F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrderForm=c,exports.selectorsData=exports.productData=void 0;var e=require("./templateProduct"),r=require("./form/templateForm"),o={};exports.productData=o;var t={name:".js-name",email:".js-email",number:".js-phone-number",code:".js-phone-code",country:".js-phone-country",city:".js-select-cities",address:".js-address",notice:".js-notice"};exports.selectorsData=t;var s={image:".js-order-product-image",sale:".js-order-product-sale",name:".js-order-product-name",price:".js-order-product-price",oldprice:".js-order-product-oldprice",description:".js-order-product-description",sizes:".js-order-product-sizes"};function c(t,c,i){(0,r.createTemplateForm)();var d=document.querySelector(".js-form"),n=d.querySelector(".js-order-close"),a=d.querySelector(s.image),l=d.querySelector(s.sale),p=d.querySelector(s.name),u=d.querySelector(s.price),y=d.querySelector(s.oldprice),m=d.querySelector(s.description),j=d.querySelector(s.sizes);d.style.display="block",window.setTimeout(function(){d.style.opacity=1},0),window.document.body.style.overflow="hidden",a.setAttribute("src",i),c.sale?(l.classList.remove("product-card__sale_none"),y.style.display="inline",y.innerHTML=c.oldPrice+" ₽"):(l.classList.add("product-card__sale_none"),y.style.display="none"),p.innerHTML=c.name,u.innerHTML=c.price+" ₽",m.innerHTML=c.description,j.innerHTML=(0,e.getSizes)(c),o.product=c,d.querySelector('.js-radio-size[data-size-id="'.concat(t,'"]')).checked=!0,n.addEventListener("click",function(){window.document.body.style.overflow="scroll",window.setTimeout(function(){d.style.opacity=0},0),d.style.display="none"})}
},{"./templateProduct":"UJHO","./form/templateForm":"f2qf"}],"PqOF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../orderForm"),t=require("../templateProduct");function r(r){var o=document.querySelector('.js-dropdown-product[data-dropdown-id="'.concat(r.id,'"]'));o.innerHTML='<div class="js-dropdown-childs dropdown-product__elements">\n        '.concat((0,t.getDescription)(r),' \n        <div class="product-card__sizes"> ').concat((0,t.getSizes)(r)," </div> \n        ").concat(t.templateButton,"\n        </div>"),o.style.opacity=1;var d=document.querySelectorAll(".js-radio-size"),n=null;1===r.sizes.length?(o.querySelector(".js-dropdown-button").disabled=!1,n=d[0].dataset.sizeId):o.querySelector(".js-dropdown-button").disabled=!0,d.forEach(function(e){e.addEventListener("click",function(e){return function(){o.querySelector(".js-dropdown-button").disabled=!1,n=e.dataset.sizeId}}(e))}),o.querySelector(".js-dropdown-button").addEventListener("click",function(){var t=document.querySelector('.js-popular-product[data-product-id="'.concat(r.id,'"] img')).getAttribute("src");(0,e.createOrderForm)(n,r,t)})}
},{"../orderForm":"Wn4F","../templateProduct":"UJHO"}],"IvCM":[function(require,module,exports) {
"use strict";var e=c(require("../model")),t=c(require("./productDropdown"));function c(e){return e&&e.__esModule?e:{default:e}}var r=null,d=null,o=document.querySelectorAll(".js-popular-product");function n(c,d){return function(){("click"===event.type&&(r=d),null===r&&"mouseenter"===event.type||"click"===event.type)&&(c.querySelector(".js-dropdown-product").hasChildNodes()||((0,t.default)(e.default[d]),document.querySelector('.product-card[data-product-id="'.concat(d+1,'"]')).classList.add("product-card_dropdown")))}}function u(e,t){return function(){if(r!==t&&"mouseleave"===event.type||"click"===event.type){var c=e.querySelector(".js-dropdown-product");c.hasChildNodes()&&(c.removeChild(c.firstChild),c.style.opacity=0,document.querySelector('.product-card[data-product-id="'.concat(t+1,'"]')).classList.remove("product-card_dropdown"))}r===t&&"click"===event.type&&(d=null,r=null)}}function l(e){(d=document.querySelector('.product-card[data-product-id="'.concat(r+1,'"]'))).contains(e.target)||u(d,r,"click")()}o.forEach(function(e,t){e.addEventListener("click",n(e,t)),e.addEventListener("mouseenter",n(e,t)),e.addEventListener("mouseleave",u(e,t))}),window.addEventListener("click",l,!0);
},{"../model":"kRZE","./productDropdown":"PqOF"}],"QvaY":[function(require,module,exports) {
"use strict";require("./grid"),require("./slider"),require("./dropdown/controlProductCard"),require("./form");
},{"./grid":"mwQg","./slider":"wzuc","./dropdown/controlProductCard":"IvCM","./form":"eGIX"}]},{},["QvaY"], null)
//# sourceMappingURL=js.8beca0d6.js.map